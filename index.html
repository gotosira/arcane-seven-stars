<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÑ‡∏û‡πà‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß 7 ‡∏î‡∏ß‡∏á - Daily Card Reading</title>
    <meta name="description" content="Thai Fortune Cards - Seven Wonderful Stars Daily Reading">
    
    <!-- Performance optimizations -->
    <link rel="preload" href="Card Back.png" as="image">
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="script.js" as="script">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- PWA Meta Tags (works best when served over HTTP/HTTPS) -->
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="‡πÑ‡∏û‡πà‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Card Back.png">
    <link rel="shortcut icon" type="image/png" href="Card Back.png">
    
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Background Music (optional) -->
    <audio id="backgroundMusic" loop style="display: none;">
    </audio>
    
    <!-- Sound Effects (optional) -->
    <audio id="cardFlipSound" preload="none" style="display: none;">
    </audio>
    <audio id="successSound" preload="none" style="display: none;">
    </audio>

    <div class="container">
        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel">
            <div class="settings-content">
                <h3><i class="fas fa-cog"></i> ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h3>
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="soundToggle" checked>
                        ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö
                    </label>
                </div>
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="musicToggle">
                        ‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
                    </label>
                </div>
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="notificationsToggle">
                        ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
                    </label>
                </div>
                <div class="setting-item">
                    <label>‡∏ò‡∏µ‡∏°:</label>
                    <select id="themeSelect" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏µ‡∏°">
                        <option value="default">‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°</option>
                        <option value="dark">‡∏°‡∏∑‡∏î</option>
                        <option value="golden">‡∏ó‡∏≠‡∏á</option>
                        <option value="nature">‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>‡∏†‡∏≤‡∏©‡∏≤ / Language:</label>
                    <select id="languageSelect" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤">
                        <option value="th">üáπüá≠ ‡πÑ‡∏ó‡∏¢ (Thai)</option>
                        <option value="en">üá∫üá∏ English</option>
                    </select>
                </div>
                <div class="setting-item">
                    <button class="btn primary" onclick="manualResetDailyCard()" style="width: 100%;">
                        üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
                    </button>
                </div>
                <button class="btn secondary" onclick="closeSettings()">‡∏õ‡∏¥‡∏î</button>
            </div>
        </div>

        <header>
            <div class="header-controls">
                <button class="icon-btn" id="userProfileBtn" onclick="toggleUserPanel()" title="‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ" style="display: none;">
                    <i class="fas fa-user"></i>
                </button>
                <button class="icon-btn" id="loginBtn" onclick="openLoginModal()" title="‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö">
                    <i class="fas fa-sign-in-alt"></i>
                </button>
                <button class="icon-btn" onclick="openSettings()" title="‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="icon-btn" onclick="toggleFullscreen()" title="‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
            <h1>üåü ‡πÑ‡∏û‡πà‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß 7 ‡∏î‡∏ß‡∏á üåü</h1>
            <p class="subtitle">Seven Wonderful Stars - Daily Card Reading</p>
            <div class="daily-quote" id="dailyQuote">
                "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏≠‡∏Å‡∏≤‡∏™"
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('daily')">
                <i class="fas fa-calendar-day"></i> ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
            </button>
            <button class="nav-tab" onclick="showTab('spreads')">
                <i class="fas fa-layer-group"></i> ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà
            </button>
            <button class="nav-tab" onclick="showTab('journal')">
                <i class="fas fa-book"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
            </button>
            <button class="nav-tab" onclick="showTab('analytics')">
                <i class="fas fa-chart-bar"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
            </button>
            <button class="nav-tab" onclick="showTab('meditation')">
                <i class="fas fa-om"></i> ‡∏ó‡∏≥‡∏™‡∏°‡∏≤‡∏ò‡∏¥
            </button>
        </nav>

        <main>
            <!-- Daily Reading Tab -->
            <div class="tab-content active" id="dailyTab">
                <div class="daily-reading">
                    <div class="daily-header">
                        <div class="daily-title-section">
                            <h2>‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</h2>
                            <button class="btn secondary reset-daily-btn" onclick="manualResetDailyCard()" title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà">
                                <i class="fas fa-redo"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
                            </button>
                        </div>
                        <p class="description">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏î‡∏ß‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                    </div>
                    
                    <div class="card-status" id="cardStatus">
                        <p id="statusText">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏û‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏î‡∏ß‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</p>
                        <div class="shuffle-controls" id="shuffleControls">
                            <button class="btn primary shuffle-btn" id="shuffleBtn" onclick="shuffleCards()">
                                <i class="fas fa-sync-alt"></i> ‡∏™‡∏±‡∏ö‡πÑ‡∏û‡πà 9 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                            </button>
                            <div class="shuffle-counter" id="shuffleCounter" style="display: none;">
                                <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏±‡∏ö‡πÑ‡∏û‡πà... <span id="shuffleCount">0</span>/9</span>
                                <div class="shuffle-progress" id="shuffleProgress">
                                    <div class="shuffle-progress-bar" id="shuffleProgressBar"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-grid" id="cardGrid">
                        <!-- Cards will be generated by JavaScript -->
                    </div>

                    <!-- Pick 3 Cards Section -->
                    <div class="three-cards-section" id="threeCardsSection">
                        <div class="section-divider">
                            <span>‡∏´‡∏£‡∏∑‡∏≠</span>
                        </div>
                        <h3>üîÆ ‡∏î‡∏π‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö</h3>
                        <p class="description">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏î‡∏ß‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î - ‡∏≠‡∏î‡∏µ‡∏ï ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</p>
                        
                        <div class="three-cards-controls">
                            <button class="btn primary" id="pick3CardsBtn" onclick="initializePick3Cards()">
                                <i class="fas fa-magic"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö
                            </button>
                            <button class="btn secondary" id="reset3CardsBtn" onclick="resetThreeCards()" style="display: none;">
                                <i class="fas fa-redo"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                            </button>
                        </div>

                        <div class="three-cards-display" id="threeCardsDisplay" style="display: none;">
                            <div class="pick-instruction" id="pickInstruction">
                                <p>üîÆ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà</p>
                            </div>
                            
                            <div class="cards-layout">
                                <div class="card-position">
                                    <div class="position-label">‡∏≠‡∏î‡∏µ‡∏ï (Past)</div>
                                    <div class="card-slot clickable" id="pastCard" onclick="pickCardForSpecificPosition('past')">
                                        <img src="Card Back.png" alt="Click to pick Past Card">
                                        <div class="click-indicator">
                                            <i class="fas fa-hand-pointer"></i>
                                            <span>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                                        </div>
                                    </div>
                                    <div class="card-meaning empty" id="pastMeaning">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏≠‡∏î‡∏µ‡∏ï</div>
                                </div>
                                <div class="card-position">
                                    <div class="position-label">‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (Present)</div>
                                    <div class="card-slot clickable" id="presentCard" onclick="pickCardForSpecificPosition('present')">
                                        <img src="Card Back.png" alt="Click to pick Present Card">
                                        <div class="click-indicator">
                                            <i class="fas fa-hand-pointer"></i>
                                            <span>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                                        </div>
                                    </div>
                                    <div class="card-meaning empty" id="presentMeaning">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
                                </div>
                                <div class="card-position">
                                    <div class="position-label">‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï (Future)</div>
                                    <div class="card-slot clickable" id="futureCard" onclick="pickCardForSpecificPosition('future')">
                                        <img src="Card Back.png" alt="Click to pick Future Card">
                                        <div class="click-indicator">
                                            <i class="fas fa-hand-pointer"></i>
                                            <span>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</span>
                                        </div>
                                    </div>
                                    <div class="card-meaning empty" id="futureMeaning">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</div>
                                </div>
                            </div>
                            
                            <div class="three-cards-summary" id="threeCardsSummary" style="display: none;">
                                <h4>üåü ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà 3 ‡πÉ‡∏ö</h4>
                                <p id="overallReading"></p>
                                <div class="reading-actions">
                                    <button class="btn primary" onclick="saveThreeCardsReading()">
                                        <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà‡∏ô‡∏µ‡πâ
                                    </button>
                                    <button class="btn secondary" onclick="resetThreeCards()">
                                        <i class="fas fa-redo"></i> ‡∏î‡∏π‡πÑ‡∏û‡πà‡πÉ‡∏´‡∏°‡πà
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="revealed-card" id="revealedCard" style="display: none;">
                        <h3>‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                        <div class="card-display">
                            <img id="dailyCardImage" src="" alt="Daily Card">
                            <div class="card-info">
                                <h4 id="cardName"></h4>
                                <p id="cardMeaning"></p>
                                <div class="card-actions">
                                    <button class="btn primary" onclick="shareCard()">
                                        <i class="fas fa-share"></i> ‡πÅ‡∏ä‡∏£‡πå
                                    </button>
                                    <button class="btn secondary" onclick="saveToJournal()">
                                        <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                    </button>
                                    <button class="btn secondary" onclick="readAloud()">
                                        <i class="fas fa-volume-up"></i> ‡∏≠‡πà‡∏≤‡∏ô
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lucky Info moved here -->
                        <div class="lucky-info" id="luckyInfo" style="display: none;">
                            <div class="lucky-item">
                                <i class="fas fa-palette"></i>
                                <span>‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•: <span id="luckyColor"></span></span>
                            </div>
                            <div class="lucky-item">
                                <i class="fas fa-dice"></i>
                                <span>‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•: <span id="luckyNumbers"></span></span>
                            </div>
                            <div class="lucky-item">
                                <i class="fas fa-clock"></i>
                                <span>‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡∏µ: <span id="luckyTime"></span></span>
                            </div>
                        </div>

                        <!-- Star Information (‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢ ‡πÅ‡∏•‡∏∞ ‡∏î‡∏≤‡∏ß‡πÅ‡∏ó‡∏£‡∏Å) -->
                        <div class="star-info" id="starInfo" style="display: none;">
                            <h4><i class="fas fa-star"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢ ‡πÅ‡∏•‡∏∞ ‡∏î‡∏≤‡∏ß‡πÅ‡∏ó‡∏£‡∏Å</h4>
                            <div class="star-details">
                                <div class="star-item">
                                    <span>üåü ‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢: <strong id="starSevy"></strong></span>
                                </div>
                                <div class="star-item">
                                    <span>‚≠ê ‡∏î‡∏≤‡∏ß‡πÅ‡∏ó‡∏£‡∏Å: <strong id="starTaek"></strong></span>
                                </div>
                                <div class="star-item">
                                    <span>üìÖ ‡∏ß‡∏±‡∏ô: <strong id="starDay"></strong></span>
                                </div>
                                <div class="star-item">
                                    <span>üïê ‡∏¢‡∏≤‡∏°: <strong id="starPeriod"></strong></span>
                                </div>
                                <div class="star-item">
                                    <span>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤: <strong id="starTime"></strong></span>
                                </div>
                            </div>
                        </div>

                        <!-- Star Explanation -->
                        <div class="star-explanation" id="starExplanation" style="display: none;">
                            <h5><i class="fas fa-info-circle"></i> ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏¢‡∏≤‡∏°‡πÑ‡∏ó‡∏¢</h5>
                            <p>‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢ ‡∏Ñ‡∏∑‡∏≠‡∏î‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏û‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏Ç‡∏î‡∏≤‡∏ß‡∏à‡∏≤‡∏Å 1-7</p>
                            <p>‡∏î‡∏≤‡∏ß‡πÅ‡∏ó‡∏£‡∏Å ‡∏Ñ‡∏∑‡∏≠‡∏î‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏¢‡∏≤‡∏°‡πÑ‡∏ó‡∏¢</p>
                            <p>‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏î‡∏≤‡∏ß‡πÅ‡∏ó‡∏£‡∏Å‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡πÑ‡∏û‡πà</p>
                        </div>
                        
                        <!-- Daily Affirmation -->
                        <div class="affirmation-box">
                            <h4><i class="fas fa-heart"></i> ‡∏Ñ‡∏≥‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</h4>
                            <p id="dailyAffirmation"></p>
                        </div>
                    </div>
                </div>

                <div class="history-section">
                    <h2>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà</h2>
                    <div class="history-controls">
                        <button id="resetDailyCard" class="btn primary" onclick="manualResetDailyCard()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</button>
                        <button id="toggleHistory" class="btn secondary">‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
                        <button id="clearHistory" class="btn danger">‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
                        <button id="exportHistory" class="btn primary">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å PDF</button>
                    </div>
                    <div class="history-grid" id="historyGrid" style="display: none;">
                        <!-- History items will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Card Spreads Tab -->
            <div class="tab-content" id="spreadsTab">
                <div class="spreads-section">
                    <h2>‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ</h2>
                    
                    <div class="spread-options">

                        
                        <div class="spread-card" onclick="startSpread('davidstar')">
                            <i class="fas fa-star-of-david"></i>
                            <h3>‡∏î‡∏≤‡∏ß‡∏¥‡∏î‡∏™‡∏ï‡∏≤‡∏£‡πå</h3>
                            <p>‡∏î‡∏π‡πÑ‡∏û‡πà 7 ‡πÉ‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏î‡∏≤‡∏ß‡∏´‡∏Å‡πÅ‡∏â‡∏Å ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏´‡πà‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                        </div>
                    </div>

                    <div class="spread-result" id="spreadResult" style="display: none;">
                        <h3 id="spreadTitle"></h3>
                        <div class="spread-cards" id="spreadCards"></div>
                        <div class="spread-interpretation" id="spreadInterpretation"></div>
                    </div>
                </div>
            </div>

            <!-- Journal Tab -->
            <div class="tab-content" id="journalTab">
                <div class="journal-section">
                    <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà</h2>
                    
                    <div class="journal-form">
                        <div class="form-group">
                            <label for="journalDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                            <input type="date" id="journalDate" value="" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">
                        </div>
                        <div class="form-group">
                            <label for="journalCard">‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:</label>
                            <select id="journalCard" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà">
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏û‡πà</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå:</label>
                            <div class="mood-selector">
                                <button class="mood-btn" data-mood="very-happy">üòÑ</button>
                                <button class="mood-btn" data-mood="happy">üòä</button>
                                <button class="mood-btn" data-mood="neutral">üòê</button>
                                <button class="mood-btn" data-mood="sad">üòî</button>
                                <button class="mood-btn" data-mood="very-sad">üò¢</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß:</label>
                            <textarea id="journalNotes" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..."></textarea>
                        </div>
                        <button class="btn primary" onclick="saveJournalEntry()">
                            <i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                        </button>
                    </div>

                    <div class="journal-entries" id="journalEntries">
                        <!-- Journal entries will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-content" id="analyticsTab">
                <div class="analytics-section">
                    <h2>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà</h2>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-calendar-check"></i>
                            <h3 id="totalDays">0</h3>
                            <p>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÑ‡∏û‡πà</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-star"></i>
                            <h3 id="favoriteCard">-</h3>
                            <p>‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-chart-line"></i>
                            <h3 id="currentStreak">0</h3>
                            <p>‡∏ß‡∏±‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-smile"></i>
                            <h3 id="averageMood">üòä</h3>
                            <p>‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</p>
                        </div>
                    </div>

                    <div class="charts-section">
                        <div class="chart-container">
                            <h3>‡πÑ‡∏û‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</h3>
                            <canvas id="cardFrequencyChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô</h3>
                            <canvas id="moodChart"></canvas>
                        </div>
                    </div>

                    <div class="insights-section">
                        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å</h3>
                        <div id="personalInsights">
                            <!-- AI-generated insights will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Meditation Tab -->
            <div class="tab-content" id="meditationTab">
                <div class="meditation-section">
                    <h2>‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏Å‡∏±‡∏ö‡πÑ‡∏û‡πà</h2>
                    
                    <div class="meditation-options">
                        <div class="meditation-card" onclick="startMeditation(300)">
                            <i class="fas fa-clock"></i>
                            <h3>‡∏™‡∏°‡∏≤‡∏ò‡∏¥ 5 ‡∏ô‡∏≤‡∏ó‡∏µ</h3>
                            <p>‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</p>
                        </div>
                        <div class="meditation-card" onclick="startMeditation(600)">
                            <i class="fas fa-clock"></i>
                            <h3>‡∏™‡∏°‡∏≤‡∏ò‡∏¥ 10 ‡∏ô‡∏≤‡∏ó‡∏µ</h3>
                            <p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢</p>
                        </div>
                        <div class="meditation-card" onclick="startMeditation(1200)">
                            <i class="fas fa-clock"></i>
                            <h3>‡∏™‡∏°‡∏≤‡∏ò‡∏¥ 20 ‡∏ô‡∏≤‡∏ó‡∏µ</h3>
                            <p>‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏•‡∏∂‡∏Å</p>
                        </div>
                    </div>

                    <div class="meditation-timer" id="meditationTimer" style="display: none;">
                        <div class="timer-circle">
                            <svg class="timer-svg" viewBox="0 0 100 100">
                                <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                                <circle class="timer-progress" cx="50" cy="50" r="45" id="progressCircle"></circle>
                            </svg>
                            <div class="timer-display">
                                <span id="timerMinutes">05</span>:<span id="timerSeconds">00</span>
                            </div>
                        </div>
                        
                        <div class="meditation-card-focus" id="meditationCardFocus">
                            <img id="meditationCardImage" src="" alt="Meditation Card">
                            <p id="meditationGuidance"></p>
                        </div>
                        
                        <div class="timer-controls">
                            <button class="btn secondary" onclick="pauseMeditation()" id="pauseBtn">
                                <i class="fas fa-pause"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                            </button>
                            <button class="btn danger" onclick="stopMeditation()">
                                <i class="fas fa-stop"></i> ‡∏´‡∏¢‡∏∏‡∏î
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 ‡πÑ‡∏û‡πà‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß 7 ‡∏î‡∏ß‡∏á - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
            <p class="version">Version 2.0 - Enhanced Edition</p>
        </footer>
    </div>

    <!-- Card Search Modal -->
    <div class="modal" id="cardSearchModal">
        <div class="modal-content">
            <h3>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏û‡πà</h3>
            <input type="text" id="cardSearchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏û‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢...">
            <div id="searchResults"></div>
            <button class="btn secondary" onclick="closeCardSearch()">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content login-modal">
            <h3><i class="fas fa-sign-in-alt"></i> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö / Sign In</h3>
            <p class="login-subtitle">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÑ‡∏û‡πà‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</p>
            
            <div class="social-login-options">
                <button class="social-login-btn google" onclick="loginWithGoogle()">
                    <i class="fab fa-google"></i>
                    <span>Continue with Google</span>
                </button>
                
                <!-- Google Sign-In Button (for production) -->
                <div id="googleSignInButton" style="display: none;"></div>
                
                <button class="social-login-btn facebook" onclick="loginWithFacebook()">
                    <i class="fab fa-facebook-f"></i>
                    <span>Continue with Facebook</span>
                </button>
                
                <button class="social-login-btn line" onclick="loginWithLine()">
                    <i class="fab fa-line"></i>
                    <span>Continue with LINE</span>
                </button>

                <button class="social-login-btn email" onclick="showEmailLogin()">
                    <i class="fas fa-envelope"></i>
                    <span>Continue with Email</span>
                </button>
            </div>

            <!-- Email Login Form (hidden by default) -->
            <div id="emailLoginForm" class="email-login-form" style="display: none;">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <div class="login-actions">
                    <button class="btn primary" onclick="loginWithEmail()">Sign In</button>
                    <button class="btn secondary" onclick="showRegisterForm()">Create Account</button>
                </div>
            </div>

            <!-- Registration Form (hidden by default) -->
            <div id="registerForm" class="register-form" style="display: none;">
                <div class="form-group">
                    <label for="registerName">Name:</label>
                    <input type="text" id="registerName" placeholder="Your Name" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password:</label>
                    <input type="password" id="registerPassword" placeholder="Password" required>
                </div>
                <div class="login-actions">
                    <button class="btn primary" onclick="registerWithEmail()">Create Account</button>
                    <button class="btn secondary" onclick="showEmailLogin()">Back to Sign In</button>
                </div>
            </div>
            
            <div class="privacy-note">
                <small>üîí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°</small>
            </div>
            
            <button class="btn secondary close-modal" onclick="closeLoginModal()">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>

    <!-- Card Modal -->
    <div class="card-modal" id="cardModal">
        <button class="card-modal-close" onclick="closeCardModal()">&times;</button>
        <div class="card-modal-content">
            <img class="card-modal-image" id="cardModalImage" src="" alt="">
            <div class="card-modal-info">
                <h3 class="card-modal-title" id="cardModalTitle"></h3>
                <p class="card-modal-inner-text" id="cardModalInnerText"></p>
                <p class="card-modal-meaning" id="cardModalMeaning"></p>
                <div class="card-modal-description">
                    <div class="card-modal-description-title">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</div>
                    <div id="cardModalDescription"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- User Profile Panel -->
    <div class="user-panel" id="userPanel">
        <div class="user-panel-content">
            <div class="user-profile-header">
                <img id="userAvatar" src="" alt="User Avatar" class="user-avatar">
                <div class="user-info">
                    <h4 id="userName">User Name</h4>
                    <p id="userEmail">user@email.com</p>
                    <small id="userProvider">Provider</small>
                </div>
            </div>
            
            <div class="user-stats">
                <div class="stat-item">
                    <i class="fas fa-cards"></i>
                    <span>Cards Drawn</span>
                    <strong id="userCardCount">0</strong>
                </div>
                <div class="stat-item">
                    <i class="fas fa-calendar"></i>
                    <span>Days Active</span>
                    <strong id="userDaysActive">0</strong>
                </div>
                <div class="stat-item">
                    <i class="fas fa-star"></i>
                    <span>Member Since</span>
                    <strong id="userMemberSince">Today</strong>
                </div>
            </div>
            
            <div class="user-actions">
                <button class="btn secondary" onclick="syncUserData()">
                    <i class="fas fa-sync"></i> Sync Data
                </button>
                <button class="btn secondary" onclick="exportUserData()">
                    <i class="fas fa-download"></i> Export Data
                </button>
                <button class="btn danger" onclick="logoutUser()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
            
            <button class="close-panel" onclick="toggleUserPanel()" title="‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Social Login SDKs -->
    <!-- Google Sign-In disabled in demo mode to prevent 403 errors -->
    <script>
        console.log('üéØ Demo mode active - Google Sign-In script loading disabled to prevent client_id errors');
        // Google Sign-In script will only be loaded when demo mode is disabled
        // and proper OAuth configuration is complete
    </script>
    
    <!-- Facebook SDK -->
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
    
    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
    <script src="advanced-features.js"></script>
</body>
</html> 